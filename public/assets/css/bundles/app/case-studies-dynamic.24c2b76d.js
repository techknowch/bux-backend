"use strict";(self.webpackChunkscnsoft_website=self.webpackChunkscnsoft_website||[]).push([[7444],{60214:function(e,t,s){var i=s(4002),a=s.n(i),r=s(52732),d=s.n(r);class n{constructor(e){this.$wrapper=e,this.$itemsWrapper=this.$wrapper.find(".cs-items-wrapper"),this.lazyLoad=new(d())({elements_selector:".lazy"}),this.$itemsWrapper.data("show-for-google")||this.initCSItemsWhenScrollToEditable(),editmode&&(this.handleChangeSelects(),this.itemsEdit=null,s.e(8688).then(s.bind(s,38688)).then((e=>{this.itemsEdit=new e.default(this.$wrapper)}))),this.$wrapper.on("click",".more-cs-btn",this.handleClickMoreCSBtn.bind(this))}handleClickMoreCSBtn(e){if(editmode&&(e.target!==e.currentTarget||!e.originalEvent.screenX))return;let t=a()(e.currentTarget);const s=this.$itemsWrapper.data("page"),i=this.$itemsWrapper.data("per-page");t.addClass("loading"),this.loadCaseStudies(s+1,i).then((e=>{t.removeClass("loading"),this.$itemsWrapper.data("page",e.page).append(e.listHtml),e.page*e.perPage>=e.total&&t.closest(".more-cs-btn-wrapper").hide(),this.lazyLoad.update(),Waypoint.refreshAll(),editmode&&this.itemsEdit&&this.itemsEdit.initItems()}))}loadCaseStudies(e,t){return new Promise((s=>{const i=this.$itemsWrapper.data("url"),r=this.$itemsWrapper.data("related-cs-id"),d=this.$itemsWrapper.data("technology-ids"),n=this.$itemsWrapper.data("industry-ids"),l=this.$itemsWrapper.data("service-ids"),p=this.$itemsWrapper.data("solution-ids"),o=this.$itemsWrapper.data("exclude-technology-ids"),c=this.$itemsWrapper.data("exclude-industry-ids"),h=this.$itemsWrapper.data("exclude-service-ids"),m=this.$itemsWrapper.data("exclude-solution-ids"),u=this.$itemsWrapper.data("root-document-id"),g=this.$itemsWrapper.data("language"),$=this.$itemsWrapper.data("cs-btn-title"),W=+this.$itemsWrapper.data("compact-items"),w=+this.$itemsWrapper.data("document-id"),f=this.$itemsWrapper.data("config-editable-name");a().ajax({url:i,type:"GET",data:{page:e,perPage:t,language:g,technologyIds:d,industryIds:n,serviceIds:l,solutionIds:p,excludeTechnologyIds:o,excludeIndustryIds:c,excludeServiceIds:h,excludeSolutionIds:m,relatedCSId:r,rootDocumentId:u,csBtnTitle:$,compactItems:W,documentId:w,configEditableName:f,isEditmode:editmode},crossDomain:!1,success:e=>s(e)})}))}initCSItemsWhenScrollToEditable(){let e=this.$wrapper.find(".end-cs-dynamic-point"),t=!1;const s=()=>{if(!t&&e.position().top-(a()(window).scrollTop()+a()(window).height())<300){let e=this.$itemsWrapper.data("init-list-html");this.$itemsWrapper.html(e),this.lazyLoad.update(),Waypoint.refreshAll(),t=!0}};s(),window.addEventListener("scroll",s.bind(this),{passive:!0})}handleChangeSelects(){this.$wrapper.find(".technologies-select, .industries-select, .services-select, .solutions-select").each(((e,t)=>{let s=window.$(t),i=()=>{s.find("select").on("select2:select select2:unselect",(e=>{if(!e.params.data.id)return;let t=r(s,e.params.data.id),i=this.$itemsWrapper.data(t).toString().split(",");"select2:select"===e.type?i.push(Math.abs(e.params.data.id)):i=i.filter((t=>+t!==Math.abs(e.params.data.id))),this.$itemsWrapper.data(t,i.filter((e=>e)).join(",")),a()}))},a=()=>{const e=this.$itemsWrapper.data("per-page");this.$itemsWrapper.addClass("loading"),this.loadCaseStudies(1,e).then((e=>{this.$itemsWrapper.data("page",e.page).html(e.listHtml).removeClass("loading"),this.lazyLoad.update(),editmode&&this.itemsEdit&&this.itemsEdit.initItems(),e.page*e.perPage>=e.total?this.$wrapper.find(".more-cs-btn-wrapper").hide():this.$wrapper.find(".more-cs-btn-wrapper").show()}))},r=(e,t)=>{switch(!0){case e.hasClass("technologies-select"):return t>0?"technology-ids":"exclude-technology-ids";case e.hasClass("industries-select"):return t>0?"industry-ids":"exclude-industry-ids";case e.hasClass("services-select"):return t>0?"service-ids":"exclude-service-ids";case e.hasClass("solutions-select"):return t>0?"solution-ids":"exclude-solution-ids"}};s.hasClass("initialized")?i():s.on("initialized",(()=>i()))}))}}a()(document).ready((()=>{a()(".cs-dynamic").each(((e,t)=>new n(a()(t))))}))}},function(e){e.O(0,[3913,2732],(function(){return t=60214,e(e.s=t);var t}));e.O()}]);